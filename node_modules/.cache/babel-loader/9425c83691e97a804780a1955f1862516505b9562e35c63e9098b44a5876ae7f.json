{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import Login from'./components/Login';import Dashboard from'./components/Dashboard';import LoadingSpinner from'./components/LoadingSpinner';import'./index.css';// Mock authentication - localStorage based for GitHub Pages compatibility\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AUTH_KEY='cabinet_auth';function App(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{// Check if user was previously logged in\nconst savedUser=localStorage.getItem(AUTH_KEY);if(savedUser){try{const userData=JSON.parse(savedUser);setUser(userData);}catch(error){localStorage.removeItem(AUTH_KEY);}}setLoading(false);},[]);const handleLogin=userData=>{setUser(userData);localStorage.setItem(AUTH_KEY,JSON.stringify(userData));};const handleLogout=()=>{setUser(null);localStorage.removeItem(AUTH_KEY);};if(loading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}return/*#__PURE__*/_jsx(Router,{basename:\"/us-cabinet-portal\",children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-background text-foreground\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:user?/*#__PURE__*/_jsx(Dashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:user?\"/dashboard\":\"/login\"})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","Dashboard","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","AUTH_KEY","App","user","setUser","loading","setLoading","savedUser","localStorage","getItem","userData","JSON","parse","error","removeItem","handleLogin","setItem","stringify","handleLogout","basename","children","className","path","element","to","onLogin","onLogout"],"sources":["C:/Users/batuh/Documenten/USA/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport Login from './components/Login';\r\nimport Dashboard from './components/Dashboard';\r\nimport LoadingSpinner from './components/LoadingSpinner';\r\nimport './index.css';\r\n\r\n// Mock authentication - localStorage based for GitHub Pages compatibility\r\nconst AUTH_KEY = 'cabinet_auth';\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Check if user was previously logged in\r\n    const savedUser = localStorage.getItem(AUTH_KEY);\r\n    if (savedUser) {\r\n      try {\r\n        const userData = JSON.parse(savedUser);\r\n        setUser(userData);\r\n      } catch (error) {\r\n        localStorage.removeItem(AUTH_KEY);\r\n      }\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const handleLogin = (userData) => {\r\n    setUser(userData);\r\n    localStorage.setItem(AUTH_KEY, JSON.stringify(userData));\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem(AUTH_KEY);\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  return (\r\n    <Router basename=\"/us-cabinet-portal\">\r\n      <div className=\"min-h-screen bg-background text-foreground\">\r\n        <Routes>\r\n          <Route \r\n            path=\"/login\" \r\n            element={user ? <Navigate to=\"/dashboard\" /> : <Login onLogin={handleLogin} />} \r\n          />\r\n          <Route \r\n            path=\"/dashboard\" \r\n            element={\r\n              user ? (\r\n                <Dashboard user={user} onLogout={handleLogout} />\r\n              ) : (\r\n                <Navigate to=\"/login\" />\r\n              )\r\n            } \r\n          />\r\n          <Route \r\n            path=\"/\" \r\n            element={<Navigate to={user ? \"/dashboard\" : \"/login\"} />} \r\n          />\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,cAAc,KAAM,6BAA6B,CACxD,MAAO,aAAa,CAEpB;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,QAAQ,CAAG,cAAc,CAE/B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACkB,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAmB,SAAS,CAAGC,YAAY,CAACC,OAAO,CAACR,QAAQ,CAAC,CAChD,GAAIM,SAAS,CAAE,CACb,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAACL,SAAS,CAAC,CACtCH,OAAO,CAACM,QAAQ,CAAC,CACnB,CAAE,MAAOG,KAAK,CAAE,CACdL,YAAY,CAACM,UAAU,CAACb,QAAQ,CAAC,CACnC,CACF,CACAK,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAS,WAAW,CAAIL,QAAQ,EAAK,CAChCN,OAAO,CAACM,QAAQ,CAAC,CACjBF,YAAY,CAACQ,OAAO,CAACf,QAAQ,CAAEU,IAAI,CAACM,SAAS,CAACP,QAAQ,CAAC,CAAC,CAC1D,CAAC,CAED,KAAM,CAAAQ,YAAY,CAAGA,CAAA,GAAM,CACzBd,OAAO,CAAC,IAAI,CAAC,CACbI,YAAY,CAACM,UAAU,CAACb,QAAQ,CAAC,CACnC,CAAC,CAED,GAAII,OAAO,CAAE,CACX,mBAAOP,IAAA,CAACF,cAAc,GAAE,CAAC,CAC3B,CAEA,mBACEE,IAAA,CAACR,MAAM,EAAC6B,QAAQ,CAAC,oBAAoB,CAAAC,QAAA,cACnCtB,IAAA,QAAKuB,SAAS,CAAC,4CAA4C,CAAAD,QAAA,cACzDpB,KAAA,CAACT,MAAM,EAAA6B,QAAA,eACLtB,IAAA,CAACN,KAAK,EACJ8B,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAEpB,IAAI,cAAGL,IAAA,CAACL,QAAQ,EAAC+B,EAAE,CAAC,YAAY,CAAE,CAAC,cAAG1B,IAAA,CAACJ,KAAK,EAAC+B,OAAO,CAAEV,WAAY,CAAE,CAAE,CAChF,CAAC,cACFjB,IAAA,CAACN,KAAK,EACJ8B,IAAI,CAAC,YAAY,CACjBC,OAAO,CACLpB,IAAI,cACFL,IAAA,CAACH,SAAS,EAACQ,IAAI,CAAEA,IAAK,CAACuB,QAAQ,CAAER,YAAa,CAAE,CAAC,cAEjDpB,IAAA,CAACL,QAAQ,EAAC+B,EAAE,CAAC,QAAQ,CAAE,CAE1B,CACF,CAAC,cACF1B,IAAA,CAACN,KAAK,EACJ8B,IAAI,CAAC,GAAG,CACRC,OAAO,cAAEzB,IAAA,CAACL,QAAQ,EAAC+B,EAAE,CAAErB,IAAI,CAAG,YAAY,CAAG,QAAS,CAAE,CAAE,CAC3D,CAAC,EACI,CAAC,CACN,CAAC,CACA,CAAC,CAEb,CAEA,cAAe,CAAAD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}